<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Introduction in FBD programming language. Functional and logic blocks (SET and RESET)</h1>

    Programming microcontrollers can be useful in a variety of domains such as:

    <ul>
        <li>Assembly and manipulation</li>
        <li>Buildings automatization</li>
        <li>Food and beaverages</li>
        <li>HVAC (Heating, Ventilation, and Air Conditioning)</li>
        <li>Packaging</li>
        <li>Production and processes</li>
        <li>Automotive</li>
    </ul>

    <h2>Basics of Logic Controllers</h2>
    
    A Programmable Logic Controller (PLC) is a special microcomputer build to solve logic problems specific to automating processes.

    The standard that gives the PLC defintion is <a href="https://plcopen.org/iec-61131-1">IEC 61131-1</a>.

    <figure>
        <img src="Images/PLC.png"/>
        <figcaption>Fig 1. Schema of a PLC architecture</figcaption>
    </figure>


    <h2>The FBD programming language</h2>

    We usually program a PLC by connecting a PC to it through a cable. We might as well connect a control console, but it is bothersome and hard to use.

    The <a href="https://plcopen.org/iec-61131-3">IEC 61131-3</a> standard defines 4 languages used for this:

    <ul>
        <li>Instruction List (IL)</li>
        <li>Structured text (ST)</li>
        <li>Ladder Diagram (LD)</li>
        <li>Function Block Diagram</li>
    </ul>

    <strong>FBD</strong> is a graphic language used mostly with mini- and microautomated devices. It lets us to build a program with the help of fucntion blocks and graphic 
    components. Every board we will program will have <strong>Input</strong> and <strong>Output</strong> pins, anything in-between will be connected through signal lines.

    <h2>Functional Blocks</h2>
    
    Every function block has an Input (In) and an Output(On) where we can connect our signals. One thing to keep in mind is that the signal that enters
    will be the same with the signal that comes out of the block.
    
    
    One more thing to keep in mind is that the program is executed top-to-bottom, from left to right.
    
    <h2>Using the PneuAlpha Visual Logic software (VLS) editor</h2>
    <strong>VLS</strong> is a strong tool for this task (old too...). In the past it was considered easy to learn and use but it is not the case anymore,
    I can't stress this enough but who am I to oppose my university.

    Some key features that the program provides are: 
    <ul>
        <li>Testing the program</li>
        <li>Monitor while it runs</li>
        <li>Monitor in the System Sketch window</li>
        <li>Create special blocks through combining multiple existing blocks</li>
        <li>"Detailed support"</li>
    </ul>

    <h2> Let's get started with the SET/RESTET block</h2>

    The SET/RESET block is a 2 In and 1 Out block. We can choose two modes, SET priority or RESET priority. 
    Which means, if both input signals are turned on, the priority command will take precedence. 

    <h3>Problem 1</h3>
    Pressing the button B_START, with a normal open cotnact, we turn on the electric engine ME, supplied with 200 Vca. 
    It remains turned on until we press the B_STOP button.
    While the engine is turned on, the lamp LS will stay on and be supplied 24Vcc.

    <h4>Solution</h4>
    Because they are supplied with different voltages, we have to put them on different outputs, O1 and O2 respectively.

    <figure>
        <img src="Images/L1_1.png">
        <figcaption>ECC-PNAL2-24MR-D, DC Input. Relay Output</figcaption>
    </figure>

    <figure>
        <img src="Images/L1_1_1.png">
        <img src="Images/L1_1_2.png">
        <figcaption>Start and Stop of the system</figcaption>
    </figure>

</body>
</html>